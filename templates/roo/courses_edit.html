{% extends "roo/courses_base.html" %}
{% load static %}
{% load semanticui %}
{% block content %}

    <link href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.3/css/tabulator_simple.min.css" rel="stylesheet">
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.3/js/tabulator.min.js"></script>
    {#<script src="/files/openedu_static/js/tabulator.min.js"></script>#}

    <div id="courses-table"></div>

    <script type="text/javascript">
    var COMMUNICATION_OWNER_STATES = {
        "0": "Согласование не начато",
        "1": "В процессе согласования",
        "2": "Требуется участие администрации",
        "3": "Согласовано",
        "4": "Отказано",
        "5": "Согласовано с РОО"
    };

        $("#courses-table").tabulator({
            height: "700px",
            {#width: "100%",#}
            layout: "fitColumns",
            responsiveLayout:true,
            placeholder: "Нет данных",
            columns: [
                {title: "Наименование", field: "title", sorter: "string"},
                {title: "Платформа", field: "partner", sorter: "string"},
                {title: "Правообладатель", field: "institution", sorter: "string"},
                {title: "Статус коммуникации с правообладателем", field: "communication_owner", editor:"select", editorParams:COMMUNICATION_OWNER_STATES},
                {title: "Статус коммуникации с платформой", field: "communication_platform", sorter: "string"},
                {title: "Статус экспертизы", field: "expertise_status", sorter: "string"},
                {title: "Статус паспорта", field: "passport_status", sorter: "string"},
                {title: "Состояние загрузки обязательных оценок", field: "required_ratings_state", sorter: "string"},
                {title: "Состояние загрузки добровольных оценок", field: "unforced_ratings_state", sorter: "string"},
                {title: "Примечание", field: "comment", sorter: "string"},
                {title: "Статус загрузки На РОО", field: "roo_status", sorter: "string"},

            ],
            ajaxLoaderLoading: "Загрузка данных"
        });

        $(document).ready(function() {
            console.log("!!!!!!!!!!!!!!!");
            $("#courses-table").tabulator("setData", "/roo/courses_edit");
        });

    </script>

{% endblock %}